<html>
<head>
    <meta charset="utf-8">

    <script src="static/jquery.min.js"></script>
    <script src="static/jquery-ui.min.js"></script>
    <script src="static/functions.js"></script>

    <link rel="stylesheet" href="static/jquery-ui.css">
    <link rel="stylesheet" href="static/functions.css">

    <style type="text/css">

        .rect {
            border: 3px solid red;
            position: absolute;
            -webkit-box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.45), inset 0px 0px 10px 0px rgba(0, 0, 0, 0.45);
        }


    </style>
    <script type="text/javascript">


        function jsanimation() {

            var exportables = $('#export_blocks').find('.export');

            // Hide all.
            exportables.css('opacity', 0);

            var ease = jQuery.easing.swing;

            var frames = 30;

            exportables.each(function (index, node) {
                console.log(node, index);
                node = $(node);

                // Set the output file name
                addToQueue(function (name) {
                    phSetName(name + "_in");
                }, [node.data('name')]);

                // Render the in animation
                for (var i = 0.0; i <= 1.0; i += 1.0 / frames) {
                    addToQueue(function (i) {
                        node.css('opacity', ease(i));
                    }, [i]);
                }
                // Render the middle of the animation
                addToQueue(function (name) {
                    phSetName(name + "_mid");
                    phSnap();
                    phSetName(name + "_out");
                }, [node.data('name')]);

                // Render the out animation
                for (var i = 1.0; i >= 0.0; i -= 1.0 / frames) {
                    addToQueue(function (i) {
                        node.css('opacity', ease(i));
                    }, [i]);
                }

            });

        }


        $(window).ready(function () {
            $('#export_blocks')
                .debugtoolbar()
                .debugtoolbar('setEffect', jsanimation);
        });


    </script>

</head>
<body>

<div id="export_blocks">

    <div class="rect export ui-resizable-resizing" data-name="bigbox" style="left: 288px; top: 310px; width: 1346px; height: 442px;"></div>
    <div class="rect export" data-name="http" style="left: 432px; top: 444px; width: 224px; height: 180px;"></div>
    <div class="rect export" data-name="kcs" style="left: 768px; top: 445px; width: 550px; height: 190px;"></div>


</div>
<div id="images">
    <img src="bg.png">
</div>
</body>